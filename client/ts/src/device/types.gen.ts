// Code generated by Oracle. DO NOT EDIT.

import { status, zod } from "@synnaxlabs/x";
import { z } from "zod";

import { ontology } from "@/ontology";

export const keyZ = z.string();
export type Key = z.infer<typeof keyZ>;

export const statusDetailsZ = z.object({
  rack: zod.uint32Z,
  device: z.string(),
});
export type StatusDetails = z.infer<typeof statusDetailsZ>;

export const statusZ = status.statusZ(statusDetailsZ);
export type Status = z.infer<typeof statusZ>;

export interface DeviceSchemas<Properties extends z.ZodType = z.ZodType, Make extends z.ZodType = z.ZodString, Model extends z.ZodType = z.ZodString> {
  properties?: Properties;
  make?: Make;
  model?: Model;
}

export const deviceZ = <Properties extends z.ZodType = z.ZodType, Make extends z.ZodType = z.ZodString, Model extends z.ZodType = z.ZodString>({
  properties,
  make,
  model,
}: DeviceSchemas<Properties, Make, Model> = {}) =>
  z.object({
    key: keyZ,
    rack: zod.uint32Z,
    location: z.string().min(1, "Location is required"),
    make: make ?? z.string(),
    model: model ?? z.string(),
    name: z.string().min(1, "Name is required"),
    configured: z.boolean().optional(),
    properties: zod.stringifiedJSON(properties),
    status: statusZ.optional(),
  });
export type Device<Properties extends z.ZodType = z.ZodType, Make extends z.ZodType = z.ZodString, Model extends z.ZodType = z.ZodString> = z.infer<
  ReturnType<typeof deviceZ<Properties, Make, Model>>
>;

export interface NewSchemas<Properties extends z.ZodType = z.ZodType, Make extends z.ZodType = z.ZodString, Model extends z.ZodType = z.ZodString> {
  properties?: Properties;
  make?: Make;
  model?: Model;
}

export const newZ = <Properties extends z.ZodType = z.ZodType, Make extends z.ZodType = z.ZodString, Model extends z.ZodType = z.ZodString>({
  properties,
  make,
  model,
}: NewSchemas<Properties, Make, Model> = {}) =>
  z.object({
    key: keyZ.optional(),
    rack: zod.uint32Z,
    name: z.string().min(1, "Name is required"),
    location: z.string().min(1, "Location is required"),
    make: make ?? z.string(),
    model: model ?? z.string(),
    properties: zod.jsonStringifier(properties),
    status: statusZ.optional(),
  });
export type New<Properties extends z.ZodType = z.ZodType, Make extends z.ZodType = z.ZodString, Model extends z.ZodType = z.ZodString> = z.infer<
  ReturnType<typeof newZ<Properties, Make, Model>>
>;

export const ontologyID = ontology.createIDFactory<Key>("device");
export const TYPE_ONTOLOGY_ID = ontologyID("");
