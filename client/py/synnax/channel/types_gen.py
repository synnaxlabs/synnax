#  Copyright 2025 Synnax Labs, Inc.
#
#  Use of this software is governed by the Business Source License included in the file
#  licenses/BSL.txt.
#
#  As of the Change Date specified in that file, in accordance with the Business Source
#  License, use of this software will be governed by the Apache License, Version 2.0,
#  included in the file licenses/APL.txt.

# Code generated by Oracle. DO NOT EDIT.

from __future__ import annotations

from enum import IntEnum
from typing import Any, NewType

from control import control
from node import node
from pydantic import BaseModel

from synnax.ontology.payload import ID
from synnax.telem import TimeSpan

Key = int

LocalKey = NewType("LocalKey", Any)


class Concurrency(IntEnum):
    exclusive = 0
    shared = 1


class Operation(BaseModel):
    type: str
    reset_channel: Key
    duration: TimeSpan


class Channel(BaseModel):
    name: str
    leaseholder: node.Key
    data_type: Any
    is_index: bool
    local_key: LocalKey
    local_index: LocalKey
    virtual: bool
    concurrency: control.Concurrency
    internal: bool
    operations: list[Operation]
    expression: str


class Channel(BaseModel):
    key: Key
    name: str
    leaseholder: int
    data_type: str
    density: int
    is_index: bool
    index: Key
    alias: str | None = None
    virtual: bool | None = None
    internal: bool | None = None
    expression: str | None = None
    operations: list[Operation] | None = None


APICHANNEL_ONTOLOGY_TYPE = ID(type="channel")


def ontology_id(key: int) -> ID:
    return ID(type="channel", key=str(key))
