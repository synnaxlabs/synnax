// Code generated by oracle. DO NOT EDIT.

#pragma once

#include <string>
#include <cstdint>

#include "client/cpp/rack/types.gen.h"
#include "x/cpp/json/json.h"

namespace synnax::rack {

inline StatusDetails StatusDetails::parse(x::json::Parser parser) {
    return StatusDetails{
        .rack = Key::parse(parser.child("rack")),
    };
}

inline x::json::json StatusDetails::to_json() const {
    x::json::json j;
    j["rack"] = this->rack;
    return j;
}

inline Payload Payload::parse(x::json::Parser parser) {
    return Payload{
        .key = Key::parse(parser.child("key")),
        .name = parser.field<std::string>("name"),
        .task_counter = parser.field<std::uint32_t>("task_counter", 0),
        .embedded = parser.field<bool>("embedded", false),
        .status = Status::parse(parser.optional_child("status")),
    };
}

inline x::json::json Payload::to_json() const {
    x::json::json j;
    j["key"] = this->key;
    j["name"] = this->name;
    j["task_counter"] = this->task_counter;
    j["embedded"] = this->embedded;
    j["status"] = this->status;
    return j;
}

}
