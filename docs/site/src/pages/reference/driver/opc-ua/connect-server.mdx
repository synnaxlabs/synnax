---
layout: "@/layouts/Reference.astro"
title: "OPC UA | Connect Server"
heading: "Connect to an OPC UA Server"
description: "Connect to an OPC UA server using Synnax."
next: "Read Task"
nextURL: "/reference/driver/opc-ua/read-task"
---

import StepText from "@/components/StepText.astro";
import { Divider, Text, Icon } from "@synnaxlabs/pluto";
import { Video } from "@/components/Media";
import { Fragment } from "react";
import Table from "@/components/Table.astro";
import ExampleDetails from "@/components/details/ExampleDetails.astro";
import { Client } from "@/components/client";
import { mdxOverrides } from "@/components/mdxOverrides";
export const components = mdxOverrides;

The first step to acquiring data from your PLC is to connect to an OPC UA server.

<Divider.Divider x />

## Prerequisites

Before you can connect to an OPC UA server, you will need to ensure that you have the
following:

1. A [Synnax Core](/reference/core/quick-start) running on your network.
2. A [Synnax Driver](/reference/driver/get-started) running on your network. This Driver
   must be connected to the Core and running on the same machine or network as your OPC
   UA server.
3. The [Synnax Console](/reference/console/get-started) installed on your local machine
   (for Console method).
4. An OPC UA server running on your network. This server must be reachable by the
   Driver.

<Divider.Divider x />

## How To

<Client.Tabs client:only="react" exclude={["typescript", "cpp"]}>
  <Fragment slot="console">

## <StepText level="h2" step={1}>Open the Connection Dialog</StepText>

To connect to your OPC UA server, open the Console and click on the Search and Command
Palette at the top. You can also open this palette with `Ctrl+Shift+P` on Windows or
`Cmd+Shift+P` on macOS.

In command mode (enabled when the first character in the input is ">"), type "OPC UA".
Select the "Connect an OPC UA Server" option to open the server configuration dialog.

<ExampleDetails>
<Text.Text slot="summary" level="p"><Icon.Play /> Example</Text.Text>

<Video client:only="react" id="device-drivers/opc-ua/connect-server/open-modal" />

</ExampleDetails>

<Divider.Divider x />

## <StepText level="h2" step={2}>Configure the Connection</StepText>

Enter the connection parameters for your server.

<ExampleDetails>
<Text.Text slot="summary" level="p"><Icon.Details /> Parameters</Text.Text>

<Table>
  <thead>
    <tr>
      <th>Field</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Name</td>
      <td>
        A name for your server. We'll use this to identify and manage the server in the
        Console.
      </td>
    </tr>
    <tr>
      <td>Connect From</td>
      <td>
        The Synnax Driver that will connect to the OPC UA server.
      </td>
    </tr>
    <tr>
      <td>Endpoint</td>
      <td>
        The endpoint URL for your server. This should be it's reachable address on the
        network, and typically begins with `opc.tcp://`.
      </td>
    </tr>
    <tr>
      <td>Username</td>
      <td>
        The username to use when connecting to the server. This is optional and can be
        left blank.
      </td>
    </tr>
    <tr>
      <td>Password</td>
      <td>
        The password to use when connecting to the server. This is optional and can be
        left blank.
      </td>
    </tr>
    <tr>
      <td>Security Mode</td>
      <td>
        The security mode to use when connecting to the server. This should match the
        security mode configured on the server:

        - **None**: No security is applied.
        - **Sign**: Messages are signed but not encrypted. Requires authentication but
                    does not guarantee confidentiality.
        - **SignAndEncrypt**: Messages are signed and encrypted, ensuring authenticity
                              and confidentiality.
      </td>
    </tr>
    <tr>
      <td>Security Policy</td>
      <td>
        The security policy to use when connecting to the server. This should match the
        security policy configured on the server:

        - **None**: No security is applied.
        - **Basic128Rsa15**: Basic 128-bit encryption using RSA-15.
        - **Basic256**: Basic 256-bit encryption.
        - **Basic256Sha256**: Basic 256-bit encryption with SHA-256.
        - **Aes128Sha256RsaOaep**: 128-bit AES encryption with SHA-256 and RSA OAEP.
        - **Aes256Sha256RsaPss**: 256-bit AES encryption with SHA-256 and RSA PSS.
      </td>
    </tr>

  </tbody>
</Table>

</ExampleDetails>

<Divider.Divider x />

## <StepText level="h2" step={3}>Save the Connection</StepText>

You can use the "Test Connection" button to verify that the server is reachable. Once
the connection is successful, click "Save" to save the connection. You can now create
read and write tasks for this server.

<ExampleDetails>
<Text.Text slot="summary" level="p"><Icon.Play /> Example</Text.Text>

<Video client:only="react" id="device-drivers/opc-ua/connect-server/save" />

</ExampleDetails>

  </Fragment>
  <Fragment slot="python">

<ExampleDetails open>
<Text.Text slot="summary" level="p"><Icon.Connect /> Connect to OPC UA Server</Text.Text>

```python
import synnax as sy
from synnax.hardware import opcua
import json

# Initialize Synnax client
client = sy.Synnax()

# Retrieve the embedded rack
rack = client.hardware.racks.retrieve_embedded_rack()

# Create the OPC UA device
device = opcua.create_device(
    client=client,
    name="My OPC UA Server",
    location="opc.tcp://localhost:4841/",
    rack=rack.key,
    properties=json.dumps(
        opcua.device_props(
            endpoint="opc.tcp://localhost:4841/"
        )
    ),
)

print(f"Connected to OPC UA server: {device.name}")
```

</ExampleDetails>

<ExampleDetails open>
<Text.Text slot="summary" level="p"><Icon.Close /> Disconnect Server</Text.Text>

```python
import synnax as sy

# Initialize Synnax client
client = sy.Synnax()

# Retrieve the device by name
device = client.hardware.devices.retrieve(
    name="My OPC UA Server",
    ignore_not_found=True
)

if device is not None:
    # Delete the server
    client.hardware.devices.delete([device.key])
    print(f"Disconnected OPC UA server: {device.name}")
else:
    print("Server not found")
```

</ExampleDetails>

  </Fragment>
</Client.Tabs>
