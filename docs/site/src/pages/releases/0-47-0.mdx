---
title: "Version 0.47 Release Notes"
---

import Release from "@/components/releases/Release.astro";
import { Image } from "@/components/Media";
import { Divider } from "@synnaxlabs/pluto";
import Diagram from "@/components/Diagram.astro";

<Release
    version="0.47.0"
    date="Oct 24, 2025"
    title="Arc-Based Calculated Channels"
>

<Diagram preview style="height: 500px; padding: 9rem">
  <Image client:only="react" id="releases/0-47-0/thumbnail" themed={false} />
</Diagram>

## Arc-Based Calculated Channels

Our lua-based calculated channels were a powerful first step towards deriving values in
real-time from a set of input channels. They also came with several limitations, notably
the inability to create calculations that relied on channels with different indexes, and
the lack of statistical functions such as averages, min, max, standard deviation, etc.

Our new arc language is becoming the bedrock for building automations in Synnax, and the
next step in it's evolution is the introduction of arc-based calculated channels. This
uses a new, text-based syntax. It allows for calculations using mixes of persisted
channels with different indexes, virtual channels, and even other calculated channels.

We've also added three statistical aggregation functions, `avg`, `min`, and `max`. These
functions can be used to calculate the average, minimum, and maximum values of a
calculation over a time or trigger based window.

### Deprecation of Lua-Based Calculations

With the introduction of arc-based calculated channels, Lua-based calculations are
deprecated and will be removed in a future release. We'll automatically attempt to
migrate compatible lua-based calculations to their arc equivalent, and will provide
warnings for incompatible calculations that must be manually re-written.

In this release, lua-based calculations will continue to function normally, but creating
new lua-based calculations will not be allowed.

## Important Breaking Changes

Synnax v0.47 introduces two, important breaking changes.

### Auto-Commit is now Enabled by Default with All Writers

[Auto-Commit](/reference/writes#auto-commit) is used to immediately persist written data
to Synnax, as oppoed to calling `commit` manually.

Over the course of several release, we've observed that it's far more common to write
data in scenarios where you'd want to have auto-commit enabled (telemetry streaming,
control) than in scenarios where you'd want to disable it.

As a result, we've made the decision to enable auto-commit by default with writers in
all of our SDKs. Any code that implicitly disables auto-commit will now need to
explicitly disable it.

### Changes to Writer Behavior Under Mixed Control Authority

Synnax v0.47 fixes a critical issue that caused schematics to become unresponsive across
all channels when a higher authority process acquired control of a channel on the
schematic.

In this scenario, a schematic will have mixed control over a set of actuators. For
example, a schematic is controlling `cmd_channel_1` and `cmd_channel_2`. Both of these
have independent, associated indexeds (`cmd_channel_1_time` and `cmd_channel_2_time`).
In the scenario where the schematic operator has control over `cmd_channel_1` but not
`cmd_channel_2` and auto commit is enabled, any writes to `cmd_channel_1` would fail
regardless of the fact that the operator has control over it.

We've changed the behavior of writers to support partial writes, meaning that a caller
may have control over only a subset of channels in a particular write. When the user
writes to a mixture of the channels it has control over as well as those it does not,
all writes to a channel that it has control over will succeed.

This fix significantly improves the reliability of schematics in complex control
scenarios where multiple systems or users may be managing different aspects of the
system simultaneously.

</Release>
