// Copyright 2026 Synnax Labs, Inc.
//
// Use of this software is governed by the Business Source License included in the file
// licenses/BSL.txt.
//
// As of the Change Date specified in that file, in accordance with the Business Source
// License, use of this software will be governed by the Apache License, Version 2.0,
// included in the file licenses/APL.txt.

// Code generated by oracle. DO NOT EDIT.

#pragma once

#include <string>
#include <vector>

#include "x/cpp/json/json.h"

namespace synnax::ir {
using Edges = void;
using Stages = void;
using Sequences = void;
using Functions = void;
using Strata = void;
using Nodes = void;

enum class EdgeKind {
    Continuous = 1,
    OneShot = 2,
};

using Stratum = std::vector<std::string>;

struct Handle {
    std::string node;
    std::string param;

    static Handle parse(x::json::Parser parser);
    [[nodiscard]] x::json::json to_json() const;
};

struct Stage {
    std::string key;
    std::vector<std::string> nodes;
    Strata strata;

    static Stage parse(x::json::Parser parser);
    [[nodiscard]] x::json::json to_json() const;
};

struct Body {
    std::string raw;

    static Body parse(x::json::Parser parser);
    [[nodiscard]] x::json::json to_json() const;
};

struct Node {
    std::string key;
    std::string type;
    synnax:: ::Params config;
    synnax:: ::Params inputs;
    synnax:: ::Params outputs;
    ::types::Channels channels;

    static Node parse(x::json::Parser parser);
    [[nodiscard]] x::json::json to_json() const;
};

struct IR {
    Functions functions;
    Nodes nodes;
    Edges edges;
    Strata strata;
    Sequences sequences;

    static IR parse(x::json::Parser parser);
    [[nodiscard]] x::json::json to_json() const;
};

struct Edge {
    Handle source;
    Handle target;
    EdgeKind kind;

    static Edge parse(x::json::Parser parser);
    [[nodiscard]] x::json::json to_json() const;
};

struct Sequence {
    std::string key;
    std::vector<Stage> stages;

    static Sequence parse(x::json::Parser parser);
    [[nodiscard]] x::json::json to_json() const;
};

struct Function {
    std::string key;
    Body body;
    synnax:: ::Params config;
    synnax:: ::Params inputs;
    synnax:: ::Params outputs;
    ::types::Channels channels;

    static Function parse(x::json::Parser parser);
    [[nodiscard]] x::json::json to_json() const;
};
}
