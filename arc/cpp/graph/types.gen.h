// Code generated by oracle. DO NOT EDIT.

#pragma once

#include <string>
#include <utility>
#include <vector>
#include "x/cpp/json/json.h"
#include "x/cpp/spatial/types.gen.h"
#include "x/cpp/errors/errors.h"
#include "arc/go/graph/pb/graph.pb.h"
#include "arc/cpp/ir/types.gen.h"


namespace arc::graph {

struct Node;
struct Viewport;
struct Graph;

struct Node {
    std::string key;
    std::string type;
    x::json::json config;
    ::x::spatial::XY position;

    static Node parse(x::json::Parser parser);
    [[nodiscard]] x::json::json to_json() const;

    using proto_type = ::arc::graph::pb::Node;
    [[nodiscard]] ::arc::graph::pb::Node to_proto() const;
    static std::pair<Node, x::errors::Error> from_proto(const ::arc::graph::pb::Node& pb);
};

struct Viewport {
    ::x::spatial::XY position;
    double zoom = 0;

    static Viewport parse(x::json::Parser parser);
    [[nodiscard]] x::json::json to_json() const;

    using proto_type = ::arc::graph::pb::Viewport;
    [[nodiscard]] ::arc::graph::pb::Viewport to_proto() const;
    static std::pair<Viewport, x::errors::Error> from_proto(const ::arc::graph::pb::Viewport& pb);
};


struct Nodes : private std::vector<Node> {
    using Base = std::vector<Node>;

    // Inherit constructors - these are instantiated at point of use, not declaration
    using Base::Base;
    Nodes() = default;

    // Container interface
    using Base::value_type;
    using Base::iterator;
    using Base::const_iterator;
    using Base::reverse_iterator;
    using Base::const_reverse_iterator;
    using Base::size_type;
    using Base::difference_type;
    using Base::reference;
    using Base::const_reference;
    using Base::begin;
    using Base::end;
    using Base::cbegin;
    using Base::cend;
    using Base::rbegin;
    using Base::rend;
    using Base::crbegin;
    using Base::crend;
    using Base::size;
    using Base::empty;
    using Base::max_size;
    using Base::capacity;
    using Base::reserve;
    using Base::shrink_to_fit;
    using Base::operator[];
    using Base::at;
    using Base::front;
    using Base::back;
    using Base::data;
    using Base::push_back;
    using Base::emplace_back;
    using Base::pop_back;
    using Base::insert;
    using Base::emplace;
    using Base::erase;
    using Base::clear;
    using Base::resize;
    using Base::swap;
    using Base::assign;

    static Nodes parse(x::json::Parser parser);
    [[nodiscard]] x::json::json to_json() const;
};

struct Graph {
    Viewport viewport;
    ::arc::ir::Functions functions;
    ::arc::ir::Edges edges;
    Nodes nodes;

    static Graph parse(x::json::Parser parser);
    [[nodiscard]] x::json::json to_json() const;

    using proto_type = ::arc::graph::pb::Graph;
    [[nodiscard]] ::arc::graph::pb::Graph to_proto() const;
    static std::pair<Graph, x::errors::Error> from_proto(const ::arc::graph::pb::Graph& pb);
};
}
