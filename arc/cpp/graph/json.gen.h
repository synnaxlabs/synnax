// Code generated by oracle. DO NOT EDIT.

#pragma once

#include <string>

#include "arc/cpp/graph/types.gen.h"
#include "x/cpp/json/json.h"
#include "x/cpp/spatial/json.gen.h"
#include "arc/cpp/ir/json.gen.h"

namespace synnax::graph {

inline Node Node::parse(x::json::Parser parser) {
    return Node{
        .key = parser.field<std::string>("key"),
        .type = parser.field<std::string>("type"),
        .config = parser.field<x::json::json>("config"),
        .position = x::spatial::XY::parse(parser.child("position")),
    };
}

inline x::json::json Node::to_json() const {
    x::json::json j;
    j["key"] = this->key;
    j["type"] = this->type;
    j["config"] = this->config;
    j["position"] = this->position.to_json();
    return j;
}

inline Viewport Viewport::parse(x::json::Parser parser) {
    return Viewport{
        .position = x::spatial::XY::parse(parser.child("position")),
        .zoom = parser.field<double>("zoom"),
    };
}

inline x::json::json Viewport::to_json() const {
    x::json::json j;
    j["position"] = this->position.to_json();
    j["zoom"] = this->zoom;
    return j;
}

inline Graph Graph::parse(x::json::Parser parser) {
    return Graph{
        .viewport = Viewport::parse(parser.child("viewport")),
        .functions = synnax::ir::Functions::parse(parser.child("functions")),
        .edges = synnax::ir::Edges::parse(parser.child("edges")),
        .nodes = Nodes::parse(parser.child("nodes")),
    };
}

inline x::json::json Graph::to_json() const {
    x::json::json j;
    j["viewport"] = this->viewport.to_json();
    j["functions"] = this->functions;
    j["edges"] = this->edges;
    j["nodes"] = this->nodes;
    return j;
}

}
