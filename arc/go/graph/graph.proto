syntax = "proto3";

package arc.v1.graph;

option go_package = "github.com/synnaxlabs/arc/graph";

import "google/protobuf/struct.proto";

import "arc/go/types/types.proto";
import "arc/go/ir/ir.proto";

message XY {
    float x = 1;
    float y = 2;
}

message PBNode {
    string key = 1;
    string type = 2;
    map<string, google.protobuf.Value> config = 3;
    XY position = 4;
}

message PBViewport {
    XY position = 1;
    float zoom = 2;
}

message PBGraph {
    PBViewport viewport = 1;
    repeated ir.PBFunction functions = 2;
    repeated ir.PBNode edges = 3;
    repeated PBNode nodes = 4;
}
