// Copyright 2026 Synnax Labs, Inc.
//
// Use of this software is governed by the Business Source License included in the file
// licenses/BSL.txt.
//
// As of the Change Date specified in that file, in accordance with the Business Source
// License, use of this software will be governed by the Apache License, Version 2.0,
// included in the file licenses/APL.txt.

import { z } from "zod";

import { CENTER_LOCATIONS, directionZ, OUTER_LOCATIONS } from "@/spatial/types.gen";

// Types not generated by oracle (tuples, complex unions, derived types)

export const numberCouple = z.tuple([z.number(), z.number()]);
export type NumberCouple<T extends number | bigint = number> = [T, T];

export type Dimension = "width" | "height";
export type SignedDimension = "signedWidth" | "signedHeight";

// Generic bounds interface (different from generated zod schema - supports bigint)
export interface Bounds<T extends number | bigint = number> {
  lower: T;
  upper: T;
}

export type CrudeBounds<T extends number | bigint = number> =
  | Bounds<T>
  | NumberCouple<T>;

// Derived/complex types that combine generated enums
export const crudeDirection = z.enum([
  "x",
  "y",
  ...OUTER_LOCATIONS,
  ...CENTER_LOCATIONS,
]);
export type CrudeDirection = z.infer<typeof crudeDirection>;
export type CrudeXDirection = "x" | "left" | "right";
export type CrudeYDirection = "y" | "top" | "bottom";
export type AngularDirection = "clockwise" | "counterclockwise";
export const crudeLocation = z.union([
  directionZ,
  z.enum([...OUTER_LOCATIONS, ...CENTER_LOCATIONS]),
  z.instanceof(String),
]);
export type CrudeLocation = z.infer<typeof crudeLocation>;
