// Copyright 2025 Synnax Labs, Inc.
//
// Use of this software is governed by the Business Source License included in the file
// licenses/BSL.txt.
//
// As of the Change Date specified in that file, in accordance with the Business Source
// License, use of this software will be governed by the Apache License, Version 2.0,
// included in the file licenses/APL.txt.

import { z } from "zod";

// Re-export generated types with original names for backward compatibility
export {
  type Alignment,
  alignmentZ as alignment,
  boundsZ as bounds,
  type CenterLocation,
  centerLocationZ as centerLocation,
  type ClientXY,
  clientXyZ as clientXY,
  type Dimensions,
  dimensionsZ as dimensions,
  type Direction,
  directionZ as direction,
  type Location,
  locationZ as location,
  type Order,
  orderZ as order,
  type OuterLocation,
  outerLocationZ as outerLocation,
  type SignedDimensions,
  signedDimensionsZ as signedDimensions,
  type XLocation,
  xLocationZ as xLocation,
  type XY,
  xyZ as xy,
  type YLocation,
  yLocationZ as yLocation,
} from "@/spatial/types.gen";

// Types not generated by oracle (tuples, complex unions, derived types)

export const numberCouple = z.tuple([z.number(), z.number()]);
export type NumberCouple<T extends number | bigint = number> = [T, T];

export type Dimension = "width" | "height";
export type SignedDimension = "signedWidth" | "signedHeight";

// Const arrays for iteration
export const ALIGNMENTS = ["start", "center", "end"] as const;
export const DIRECTIONS = ["x", "y"] as const;
export const OUTER_LOCATIONS = ["top", "right", "bottom", "left"] as const;
export const X_LOCATIONS = ["left", "right"] as const;
export const Y_LOCATIONS = ["top", "bottom"] as const;
export const CENTER_LOCATIONS = ["center"] as const;
export const ORDERS = ["first", "last"] as const;

// Generic bounds interface (different from zod schema)
export interface Bounds<T extends number | bigint = number> {
  lower: T;
  upper: T;
}

export type CrudeBounds<T extends number | bigint = number> =
  | Bounds<T>
  | NumberCouple<T>;

// Derived/complex types
export const crudeDirection = z.enum([
  ...DIRECTIONS,
  ...OUTER_LOCATIONS,
  ...CENTER_LOCATIONS,
]);
export type CrudeDirection = z.infer<typeof crudeDirection>;
export type CrudeXDirection = "x" | "left" | "right";
export type CrudeYDirection = "y" | "top" | "bottom";
export type AngularDirection = "clockwise" | "counterclockwise";
export const crudeLocation = z.union([
  z.enum(DIRECTIONS),
  z.enum([...OUTER_LOCATIONS, ...CENTER_LOCATIONS]),
  z.instanceof(String),
]);
export type CrudeLocation = z.infer<typeof crudeLocation>;
