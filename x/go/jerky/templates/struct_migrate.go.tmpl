// Code generated by jerky. DO NOT EDIT.

package types

{{- $typeName := .TypeName }}
{{- range .Migrations }}
{{- if ne .FromVersion 0 }}

// Migrate{{ $typeName }}V{{ .FromVersion }}ToV{{ .ToVersion }} converts V{{ .FromVersion }} to V{{ .ToVersion }}.
func Migrate{{ $typeName }}V{{ .FromVersion }}ToV{{ .ToVersion }}(old *{{ $typeName }}V{{ .FromVersion }}) *{{ $typeName }}V{{ .ToVersion }} {
	if old == nil {
		return nil
	}
	new := &{{ $typeName }}V{{ .ToVersion }}{
{{- range .CommonFields }}
		{{ . }}: old.{{ . }},
{{- end }}
	}
	Migrate{{ $typeName }}V{{ .FromVersion }}ToV{{ .ToVersion }}Hook(old, new)
	return new
}

// Migrate{{ $typeName }}V{{ .FromVersion }}ToV{{ .ToVersion }}Slice converts a slice of V{{ .FromVersion }} to V{{ .ToVersion }}.
func Migrate{{ $typeName }}V{{ .FromVersion }}ToV{{ .ToVersion }}Slice(old []*{{ $typeName }}V{{ .FromVersion }}) []*{{ $typeName }}V{{ .ToVersion }} {
	if old == nil {
		return nil
	}
	result := make([]*{{ $typeName }}V{{ .ToVersion }}, len(old))
	for i, v := range old {
		result[i] = Migrate{{ $typeName }}V{{ .FromVersion }}ToV{{ .ToVersion }}(v)
	}
	return result
}

// Migrate{{ $typeName }}V{{ .FromVersion }}ToV{{ .ToVersion }}Map converts a map with V{{ .FromVersion }} values to V{{ .ToVersion }}.
func Migrate{{ $typeName }}V{{ .FromVersion }}ToV{{ .ToVersion }}Map[K comparable](old map[K]*{{ $typeName }}V{{ .FromVersion }}) map[K]*{{ $typeName }}V{{ .ToVersion }} {
	if old == nil {
		return nil
	}
	result := make(map[K]*{{ $typeName }}V{{ .ToVersion }}, len(old))
	for k, v := range old {
		result[k] = Migrate{{ $typeName }}V{{ .FromVersion }}ToV{{ .ToVersion }}(v)
	}
	return result
}
{{- end }}
{{- end }}
