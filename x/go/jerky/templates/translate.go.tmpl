// Code generated by jerky. DO NOT EDIT.

package {{ .PackageName }}

import (
	{{ .TypeAlias }} "{{ .TypesImport }}"
{{- range .AliasedImports }}
	{{ .Alias }} "{{ .Path }}"
{{- end }}
{{- range .Imports }}
	"{{ . }}"
{{- end }}
)

// {{ .TypeName }}ToProto converts a {{ .TypeName }} domain struct to its protobuf representation.
func {{ .TypeName }}ToProto(m {{ .TypeName }}) *{{ .TypeAlias }}.Current {
	return &{{ .TypeAlias }}.Current{
{{- range .Fields }}
		{{ .ProtoName }}: {{ .ForwardExpr }},
{{- end }}
	}
}

// {{ .TypeName }}FromProto converts a protobuf {{ .TypeName }} to its domain struct representation.
{{- if .HasErrors }}
func {{ .TypeName }}FromProto(pb *{{ .TypeAlias }}.Current) ({{ .TypeName }}, error) {
	var m {{ .TypeName }}
	var err error
{{- range .Fields }}
{{- if .CanFail }}
	m.{{ .Name }}, err = {{ .BackwardExpr }}
	if err != nil {
		return m, err
	}
{{- else }}
	m.{{ .Name }} = {{ .BackwardExpr }}
{{- end }}
{{- end }}
	return m, nil
}
{{- else }}
func {{ .TypeName }}FromProto(pb *{{ .TypeAlias }}.Current) {{ .TypeName }} {
	return {{ .TypeName }}{
{{- range .Fields }}
		{{ .Name }}: {{ .BackwardExpr }},
{{- end }}
	}
}
{{- end }}
