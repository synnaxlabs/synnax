// Code generated by jerky. DO NOT EDIT.

package {{ .PackageName }}

import (
	"{{ .TypesImport }}"
{{- range .Imports }}
	"{{ . }}"
{{- end }}
)

// {{ .TypeName }}ToProto converts a {{ .TypeName }} domain struct to its protobuf representation.
func {{ .TypeName }}ToProto(m {{ .TypeName }}) *types.{{ .TypeName }} {
	return &types.{{ .TypeName }}{
{{- range .Fields }}
		{{ .ProtoName }}: {{ .ForwardExpr }},
{{- end }}
	}
}

// {{ .TypeName }}FromProto converts a protobuf {{ .TypeName }} to its domain struct representation.
{{- if .HasErrors }}
func {{ .TypeName }}FromProto(pb *types.{{ .TypeName }}) ({{ .TypeName }}, error) {
	var m {{ .TypeName }}
	var err error
{{- range .Fields }}
{{- if .CanFail }}
	m.{{ .Name }}, err = {{ .BackwardExpr }}
	if err != nil {
		return m, err
	}
{{- else }}
	m.{{ .Name }} = {{ .BackwardExpr }}
{{- end }}
{{- end }}
	return m, nil
}
{{- else }}
func {{ .TypeName }}FromProto(pb *types.{{ .TypeName }}) {{ .TypeName }} {
	return {{ .TypeName }}{
{{- range .Fields }}
		{{ .Name }}: {{ .BackwardExpr }},
{{- end }}
	}
}
{{- end }}
