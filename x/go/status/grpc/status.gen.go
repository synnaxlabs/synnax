// Code generated by oracle. DO NOT EDIT.

package grpc

import (
	"context"
	"github.com/google/uuid"
	"github.com/synnaxlabs/x/telem"
	"github.com/synnaxlabs/x/status"
	statusv1 "github.com/synnaxlabs/x/status/grpc/v1/status"
)

// Suppress unused import warnings
var _ = context.Background


// TranslateStatusForward converts Status to PBStatus.
func TranslateStatusForward(ctx context.Context, r *Status) (*statusv1.PBStatus, error) {
	_ = ctx // May be unused
	if r == nil {
		return nil, nil
	}
	pb := &statusv1.PBStatus{
		Key: r.Key.String(),
		Name: r.Name,
		Variant: translateVariantForward(r.Variant),
		Message: r.Message,
		Description: &r.Description,
		Time: int64(r.Time),
		Labels: TranslateLabelsForward(ctx, r.Labels),
		Details: r.Details,
	}
	return pb, nil
}

// TranslateStatusBackward converts PBStatus to Status.
func TranslateStatusBackward(ctx context.Context, pb *statusv1.PBStatus) (*Status, error) {
	_ = ctx // May be unused
	if pb == nil {
		return nil, nil
	}
	r := &Status{
		Key: uuid.MustParse(pb.Key),
		Name: pb.Name,
		Variant: translateVariantBackward(pb.Variant),
		Message: pb.Message,
		Description: pb.GetDescription(),
		Time: telem.TimeStamp(pb.Time),
		Labels: TranslateLabelsBackward(ctx, pb.Labels),
		Details: pb.Details,
	}
	return r, nil
}

// TranslateStatussForward converts a slice of Status to PBStatus.
func TranslateStatussForward(ctx context.Context, rs []Status) ([]*statusv1.PBStatus, error) {
	result := make([]*statusv1.PBStatus, len(rs))
	for i := range rs {
		var err error
		result[i], err = TranslateStatusForward(ctx, &rs[i])
		if err != nil {
			return nil, err
		}
	}
	return result, nil
}

// TranslateStatussBackward converts a slice of PBStatus to Status.
func TranslateStatussBackward(ctx context.Context, pbs []*statusv1.PBStatus) ([]Status, error) {
	result := make([]Status, len(pbs))
	for i, pb := range pbs {
		r, err := TranslateStatusBackward(ctx, pb)
		if err != nil {
			return nil, err
		}
		if r != nil {
			result[i] = *r
		}
	}
	return result, nil
}
