// Code generated by jerky. DO NOT EDIT.

package types

import (
	"github.com/synnaxlabs/x/jerky/migrate"
	"google.golang.org/protobuf/proto"
)

// StatusMigrations is the migration registry.
var StatusMigrations = &migrate.Registry{
	TypeName:       "Status",
	CurrentVersion: 1,
	Migrations: []migrate.Migration{
		{FromVersion: 0, ToVersion: 1, Migrate: migrateStatusV0ToV1},
	},
}

func migrateStatusV0ToV1(data []byte) ([]byte, error) {
	// V0 = msgpack, handled by gorp layer fallback
	// If we get here, data should already be proto
	var pb StatusV1
	if err := proto.Unmarshal(data, &pb); err != nil {
		return nil, err
	}
	return data, nil
}
